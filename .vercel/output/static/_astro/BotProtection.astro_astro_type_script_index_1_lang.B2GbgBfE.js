!function(){const e=3e3,t=5,n=3;function o(){const e=[];!0===navigator.webdriver&&e.push("webdriver_flag");(function(){let e=!1;const t=new Error;return Object.defineProperty(t,"stack",{get(){e=!0}}),e})()&&e.push("cdp_detection"),(window.callPhantom||window._phantom||window.phantom)&&e.push("phantom_detected"),window.chrome&&!window.chrome.runtime&&e.push("puppeteer_suspected");const t=["localStorage","sessionStorage","indexedDB"];for(const n of t)n in window||e.push(`missing_${n}`);return e}function i(){try{const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=200,e.height=50,t.textBaseline="top",t.font="14px Arial",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("BotDetection",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("Canvas FP",4,17),e.toDataURL().slice(-50)}catch(e){return"canvas_blocked"}}function c(){try{const e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(!t)return"webgl_unsupported";const n=t.getExtension("WEBGL_debug_renderer_info");return n?{vendor:t.getParameter(n.UNMASKED_VENDOR_WEBGL),renderer:t.getParameter(n.UNMASKED_RENDERER_WEBGL)}:"debug_info_unavailable"}catch(e){return"webgl_blocked"}}function s(){try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return"audio_unsupported";const t=new e,n=t.createOscillator(),o=t.createAnalyser(),i=t.createGain(),c=t.createScriptProcessor(4096,1,1);return i.gain.value=0,n.connect(o),o.connect(c),c.connect(i),i.connect(t.destination),n.start(0),"audio_"+t.sampleRate}catch(e){return"audio_blocked"}}function a(){const e=["Arial","Verdana","Times New Roman","Courier","Comic Sans MS"],t=["monospace","sans-serif","serif"],n="mmmmmmmmmmlli",o="72px",i=document.createElement("canvas").getContext("2d");for(const c of e){let e=!1;for(const s of t){i.font=`${o} ${s}`;const t=i.measureText(n).width;i.font=`${o} '${c}', ${s}`;if(t!==i.measureText(n).width){e=!0;break}}e&&e.push(c)}return 0}function r(){document.querySelectorAll("form").forEach(t=>{if("true"===t.dataset.protected)return;!function(e){if([{name:"email_confirm",type:"email",label:"Confirm Email"},{name:"phone_alt",type:"tel",label:"Alternative Phone"},{name:"website_url",type:"url",label:"Website"},{name:"company_name",type:"text",label:"Company"},{name:"fax_number",type:"tel",label:"Fax"}].sort(()=>.5-Math.random()).slice(0,2+Math.floor(Math.random()*2)).forEach(t=>{const n=document.createElement("input");n.type=t.type,n.name=t.name,n.className="hp-field",n.tabIndex=-1,n.autocomplete="off",n.setAttribute("aria-hidden","true"),n.style.cssText="position:absolute;left:-9999px;top:-9999px;height:0;width:0;opacity:0;pointer-events:none;",e.appendChild(n)}),!document.getElementById("hp-styles")){const e=document.createElement("style");e.id="hp-styles",e.textContent="\n\t\t\t\t.hp-field { \n\t\t\t\t\tdisplay: none !important; \n\t\t\t\t\tvisibility: hidden !important; \n\t\t\t\t}\n\t\t\t",document.head.appendChild(e)}const t=document.createElement("input");t.type="hidden",t.name="_timestamp",t.value=Date.now(),e.appendChild(t);const n=document.createElement("input");n.type="hidden",n.name="_token",n.value=btoa(window.botDetection.sessionId+":"+Date.now()),e.appendChild(n)}(t);const i=t.id||"form_"+Math.random().toString(36).substr(2,9);window.botDetection.formLoadTimes.set(i,Date.now()),t.addEventListener("submit",function(t){if(!function(t,i){const c=t.target;let s=!0;const a=[];c.querySelectorAll(".hp-field").forEach(e=>{""!==e.value.trim()&&(s=!1,a.push("honeypot_filled: "+e.name))});{const t=window.botDetection.formLoadTimes.get(i),n=Date.now()-t;n<e&&(s=!1,a.push("form_filled_too_fast: "+n+"ms"));const o=500;n<c.querySelectorAll('input:not([type="hidden"]):not(.hp-field), textarea:not(.hp-field)').length*o&&(s=!1,a.push("insufficient_time_per_field"))}Object.values(window.botDetection.interactions).reduce((e,t)=>e+t,0)<3&&(s=!1,a.push("no_human_interactions")),0===window.botDetection.interactions.mouse&&0===window.botDetection.interactions.keyboard&&(s=!1,a.push("no_input_device_activity"));window.botDetection.suspicionScore>=n&&(s=!1,a.push("high_suspicion_score: "+window.botDetection.suspicionScore));const r=o();r.length>0&&(s=!1,a.push("webdriver_detected: "+r.join(",")));s||(window.botDetection.isBot=!0,window.botDetection.blockedReasons=window.botDetection.blockedReasons.concat(a));return s}(t,i))return t.preventDefault(),t.stopPropagation(),function(){"undefined"!=typeof gtag&&gtag("event","bot_blocked",{event_category:"Security",event_label:window.botDetection.blockedReasons.join(", "),value:window.botDetection.suspicionScore,session_id:window.botDetection.sessionId,fingerprint:window.botDetection.fingerprint})}(),window.botDetection.isBot&&setTimeout(()=>{alert("Thank you! Your message has been sent successfully.")},1e3),!1}),t.dataset.protected="true"})}function d(){document.querySelectorAll('a[href^="tel:"]').forEach(e=>{if("true"===e.dataset.obfuscated)return;const t=e.href.replace("tel:",""),n=t.split("").map((e,t)=>t%2==0?`<span data-char="${btoa(e)}">${String.fromCharCode(e.charCodeAt(0)+1)}</span>`:`<span>${e}</span>`).join("");e.textContent.includes(t)&&(e.innerHTML=n),e.addEventListener("mouseenter",l),e.addEventListener("focus",l),e.addEventListener("mouseleave",u),e.addEventListener("blur",u),e.dataset.obfuscated="true",e.dataset.original=t})}function l(e){const t=e.target.closest('a[href^="tel:"]');t&&t.dataset.original&&(t.textContent=t.dataset.original)}function u(e){const t=e.target.closest('a[href^="tel:"]');t&&"true"===t.dataset.obfuscated&&setTimeout(()=>{t.matches(":hover")||t.matches(":focus")||d()},100)}function w(){if(window.botDetection.suspicionScore>1&&window.botDetection.suspicionScore<n){const e=Math.floor(10*Math.random())+1,t=Math.floor(10*Math.random())+1,n=e+t;sessionStorage.setItem("challenge_answer",btoa(n.toString()));document.querySelectorAll("form").forEach(n=>{if(n.querySelector(".challenge-field"))return;const o=document.createElement("div");o.className="challenge-field",o.innerHTML=`\n\t\t\t\t\t<label style="display:block;margin:10px 0;">\n\t\t\t\t\t\tSecurity Check: What is ${e} + ${t}?\n\t\t\t\t\t\t<input type="text" name="_challenge" required style="margin-left:10px;padding:5px;">\n\t\t\t\t\t</label>\n\t\t\t\t`;const i=n.querySelector('[type="submit"]');i?i.parentNode.insertBefore(o,i):n.appendChild(o)})}}window.botDetection={isBot:!1,suspicionScore:0,fingerprint:null,sessionId:null,interactions:{mouse:0,keyboard:0,touch:0,focus:0,scroll:0},formLoadTimes:new Map,requestCount:[],blockedReasons:[]},window.botDetection.sessionId="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),function(){!function(){const e={screen:{width:screen.width,height:screen.height,depth:screen.colorDepth,pixelRatio:window.devicePixelRatio},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,language:navigator.language,platform:navigator.platform,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory,touchSupport:"ontouchstart"in window,webgl:c(),canvas:i(),fonts:a(),audioContext:s()},t=JSON.stringify(e);let n=0;for(let o=0;o<t.length;o++)n=(n<<5)-n+t.charCodeAt(o),n&=n;window.botDetection.fingerprint=Math.abs(n).toString(36)}(),function(){let e=Date.now(),t=[];document.addEventListener("mousemove",function(n){const o=Date.now(),i=o-e;if(i>0){const e=Math.sqrt(n.movementX**2+n.movementY**2)/i;if(t.push(e),t.length>10){const e=t.reduce((e,t)=>e+t)/t.length;t.reduce((t,n)=>t+Math.pow(n-e,2),0)/t.length<.01&&(window.botDetection.suspicionScore++,window.botDetection.blockedReasons.push("consistent_mouse_velocity")),t=t.slice(-10)}}e=o,window.botDetection.interactions.mouse++},{passive:!0});let n=[],o=0;document.addEventListener("keydown",function(e){const t=Date.now();if(o>0){const e=t-o;if(n.push(e),n.length>5){const e=n.reduce((e,t)=>e+t)/n.length;e<50&&(window.botDetection.suspicionScore++,window.botDetection.blockedReasons.push("superhuman_typing_speed")),n.reduce((t,n)=>t+Math.pow(n-e,2),0)/n.length<10&&(window.botDetection.suspicionScore++,window.botDetection.blockedReasons.push("robotic_typing_pattern")),n=n.slice(-10)}}o=t,window.botDetection.interactions.keyboard++},{passive:!0}),document.addEventListener("touchstart",function(){window.botDetection.interactions.touch++},{passive:!0}),document.addEventListener("focus",function(){window.botDetection.interactions.focus++},!0);let i=0,c=0;document.addEventListener("scroll",function(){const e=Date.now();c>0&&e-c<50?(i++,i>10&&(window.botDetection.suspicionScore++,window.botDetection.blockedReasons.push("automated_scrolling"))):i=0,c=e,window.botDetection.interactions.scroll++},{passive:!0})}(),window.addEventListener("submit",function(){const e=Date.now();window.botDetection.requestCount.push(e),window.botDetection.requestCount=window.botDetection.requestCount.filter(t=>e-t<6e4),window.botDetection.requestCount.length>t&&(window.botDetection.isBot=!0,window.botDetection.blockedReasons.push("rate_limit_exceeded"))},!0),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{r(),d(),setTimeout(w,2e3)}):(r(),d(),setTimeout(w,2e3)),new MutationObserver(()=>{r(),d()}).observe(document.body,{childList:!0,subtree:!0});const e=o();e.length>0&&(window.botDetection.suspicionScore+=e.length,window.botDetection.blockedReasons=window.botDetection.blockedReasons.concat(e))}(),window.BotProtection={isBot:()=>window.botDetection.isBot,getScore:()=>window.botDetection.suspicionScore,getFingerprint:()=>window.botDetection.fingerprint,getReasons:()=>window.botDetection.blockedReasons,checkForm:e=>!!document.getElementById(e)&&(r(),!0)}}();
